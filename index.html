<!DOCTYPE html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>הרשמה - לוגו</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css"
    />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#6366F1",
              secondary: "#F0F7FF",
            },
            borderRadius: {
              none: "0px",
              sm: "4px",
              DEFAULT: "8px",
              md: "12px",
              lg: "16px",
              xl: "20px",
              "2xl": "24px",
              "3xl": "32px",
              full: "9999px",
              button: "8px",
            },
          },
        },
      };
    </script>
    <style>
      :where([class^="ri-"])::before {
          content: "\f3c2";
      }

      body {
          font-family: 'Heebo', sans-serif;
      }

      .logo-text {
          font-family: "Pacifico", serif;
      }

      .form-input {
          transition: all 0.3s ease;
      }

      .form-input:focus {
          transform: translateY(-1px);
          box-shadow: 0 8px 25px rgba(99, 102, 241, 0.15);
      }

      .submit-btn {
          transition: all 0.3s ease;
      }

      .submit-btn:hover {
          transform: translateY(-2px);
          box-shadow: 0 10px 30px rgba(99, 102, 241, 0.3);
      }

      .alert-fade-in {
          animation: fadeIn 0.5s ease-in-out;
      }

      @keyframes fadeIn {
          from {
              opacity: 0;
              transform: translateY(-10px);
          }
          to {
              opacity: 1;
              transform: translateY(0);
          }
      }

      .floating-element {
          animation: float 6s ease-in-out infinite;
      }

      @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-10px); }
      }
    </style>
  </head>
  <body
    class="min-h-screen bg-gradient-to-br from-white via-secondary/20 to-purple-50"
  >
    <!-- Background Decorative Elements -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none">
      <div
        class="absolute top-20 right-10 w-32 h-32 bg-primary/5 rounded-full floating-element"
      ></div>
      <div
        class="absolute bottom-32 left-8 w-24 h-24 bg-purple-200/30 rounded-full floating-element"
        style="animation-delay: -2s;"
      ></div>
      <div
        class="absolute top-1/2 right-1/4 w-16 h-16 bg-blue-200/20 rounded-full floating-element"
        style="animation-delay: -4s;"
      ></div>
    </div>

    <!-- Header -->
    <header
      class="relative z-10 bg-white/80 backdrop-blur-sm border-b border-gray-100/50 shadow-sm"
    >
      <div class="max-w-md mx-auto px-6 py-4">
        <div class="text-center">
          <h1 class="logo-text text-2xl text-primary font-normal">לוגו</h1>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main
      class="relative z-10 min-h-screen flex items-center justify-center px-4 py-8"
    >
      <div class="w-full max-w-md">
        <!-- Welcome Card -->
        <div
          class="bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-100/50 p-8 mb-6"
        >
          <!-- Icon Header -->
          <div class="text-center mb-8">
            <div
              class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-purple-600 rounded-2xl mb-4 shadow-lg"
            >
              <i class="ri-user-add-line text-white text-2xl"></i>
            </div>
            <h1 class="text-3xl font-bold text-gray-900 mb-2">הירשמו עכשיו</h1>
            <p class="text-gray-600 text-sm">
              הצטרפו אלינו והתחילו את המסע שלכם
            </p>
          </div>

          <!-- Registration Form -->
          <form id="contactForm" class="space-y-6">
            <!-- Full Name Input -->
            <div class="relative">
              <div
                class="absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 flex items-center justify-center text-gray-400"
              >
                <i class="ri-user-line text-lg"></i>
              </div>
              <input
                type="text"
                name="fullname"
                placeholder="שם מלא"
                required
                class="form-input w-full pr-12 pl-4 py-4 border border-gray-200 rounded-md bg-gray-50/50 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary focus:bg-white"
              />
            </div>

            <!-- Phone Input -->
            <div class="relative">
              <div
                class="absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 flex items-center justify-center text-gray-400"
              >
                <i class="ri-phone-line text-lg"></i>
              </div>
              <input
                type="tel"
                name="phone"
                placeholder="מספר טלפון"
                required
                class="form-input w-full pr-12 pl-4 py-4 border border-gray-200 rounded-md bg-gray-50/50 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary focus:bg-white"
              />
            </div>

            <!-- Email Input -->
            <div class="relative">
              <div
                class="absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 flex items-center justify-center text-gray-400"
              >
                <i class="ri-mail-line text-lg"></i>
              </div>
              <input
                type="email"
                name="email"
                placeholder="כתובת אימייל"
                required
                class="form-input w-full pr-12 pl-4 py-4 border border-gray-200 rounded-md bg-gray-50/50 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary focus:bg-white"
              />
            </div>

            <!-- Submit Button -->
            <button
              type="submit"
              class="submit-btn !rounded-button w-full py-4 bg-gradient-to-l from-primary to-purple-600 text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-primary/30 cursor-pointer"
            >
              <span class="flex items-center justify-center gap-2">
                <i class="ri-send-plane-line text-lg"></i>
                שליחה
              </span>
            </button>
          </form>

          <!-- Alert Box -->
          <div id="alertBox" class="hidden mt-6"></div>
        </div>

        <!-- Additional Info -->
        <div class="text-center text-gray-500 text-sm">
          <p>על ידי הרשמה, אתם מסכימים לתנאי השימוש שלנו</p>
        </div>
      </div>
    </main>

    <script id="form-handler">
      document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("contactForm");
        const alertBox = document.getElementById("alertBox");

        form.addEventListener("submit", async function (e) {
          e.preventDefault();

          // Show loading state
          const submitBtn = form.querySelector('button[type="submit"]');
          const originalContent = submitBtn.innerHTML;
          submitBtn.innerHTML =
            '<i class="ri-loader-4-line animate-spin text-lg"></i> שולח...';
          submitBtn.disabled = true;

          try {
            const data = Object.fromEntries(new FormData(form));
            const res = await fetch("/api/submit", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify(data),
            });

            // Show result
            alertBox.className =
              "alert-fade-in mt-6 p-4 rounded-md text-center font-medium";

            if (res.ok) {
              alertBox.className +=
                " bg-green-50 text-green-800 border border-green-200";
              alertBox.innerHTML =
                '<i class="ri-check-circle-line text-lg ml-2"></i>נשלח בהצלחה! נחזור אליכם בקרוב';
              form.reset();
            } else {
              alertBox.className += " bg-red-50 text-red-800 border border-red-200";
              alertBox.innerHTML =
                '<i class="ri-error-warning-line text-lg ml-2"></i>אירעה שגיאה, אנא נסו שוב';
            }
          } catch (error) {
            alertBox.className =
              "alert-fade-in mt-6 p-4 rounded-md text-center font-medium bg-red-50 text-red-800 border border-red-200";
            alertBox.innerHTML =
              '<i class="ri-error-warning-line text-lg ml-2"></i>אירעה שגיאה, אנא נסו שוב';
          } finally {
            // Restore button
            submitBtn.innerHTML = originalContent;
            submitBtn.disabled = false;

            // Hide alert after 5 seconds
            setTimeout(() => {
              alertBox.className = "hidden mt-6";
            }, 5000);
          }
        });
      });
    </script>
  </body>
</html>
